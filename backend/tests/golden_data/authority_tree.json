{
  "hierarchy_validation": {
    "input": {
      "nodes": [
        {"id": 1, "name": "Science", "parent_id": null},
        {"id": 2, "name": "Physics", "parent_id": 1},
        {"id": 3, "name": "Chemistry", "parent_id": 1},
        {"id": 4, "name": "Quantum Mechanics", "parent_id": 2},
        {"id": 5, "name": "Classical Mechanics", "parent_id": 2}
      ]
    },
    "expected": {
      "root_nodes": [1],
      "children_of_1": [2, 3],
      "children_of_2": [4, 5],
      "path_to_4": [1, 2, 4],
      "depth_of_4": 2,
      "siblings_of_4": [5]
    }
  },
  "circular_prevention": {
    "input": {
      "nodes": [
        {"id": 1, "name": "Node A", "parent_id": null},
        {"id": 2, "name": "Node B", "parent_id": 1},
        {"id": 3, "name": "Node C", "parent_id": 2}
      ],
      "attempted_update": {
        "node_id": 1,
        "new_parent_id": 3
      }
    },
    "expected": {
      "error": "Circular dependency detected",
      "error_type": "ValueError",
      "circular_path": [1, 2, 3, 1]
    }
  }
}
